import React from 'react';
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';

const temperatureData = [
  { month: 'Jan', high: 12.5, low: 8 },
  { month: 'Feb', high: 14, low: 9 },
  { month: 'Mar', high: 16, low: 10 },
  { month: 'Apr', high: 18, low: 11 },
  { month: 'May', high: 22, low: 15 },
  { month: 'Jun', high: 24, low: 16 },
  { month: 'Jul', high: 27, low: 20 },
  { month: 'Aug', high: 26, low: 19 },
  { month: 'Sep', high: 25, low: 17 },
  { month: 'Oct', high: 21, low: 14 },
  { month: 'Nov', high: 17, low: 11 },
  { month: 'Dec', high: 14, low: 9 }
];

const CustomTooltip = ({ active, payload, label }) => {
  if (active && payload && payload.length) {
    return (
      <div className="bg-white p-3 border border-gray-300 rounded shadow-lg">
        <p className="font-semibold text-gray-800">{`${label}`}</p>
        <p className="text-red-600">{`High: ${payload[0].value}째C`}</p>
        <p className="text-blue-600">{`Low: ${payload[1].value}째C`}</p>
      </div>
    );
  }
  return null;
};

export default function TangierTemperatureChart() {
  return (
    <div className="w-full bg-gradient-to-br from-blue-50 to-orange-50 p-6 rounded-lg shadow-lg">
      <div className="text-center mb-6">
        <h2 className="text-2xl font-bold text-gray-800 mb-2">
          Moroccan Tangier - Annual Temperature Overview
        </h2>
        <p className="text-gray-600 text-sm">
          Monthly High and Low Temperatures (째C)
        </p>
      </div>
      
      <ResponsiveContainer width="100%" height={400}>
        <BarChart
          data={temperatureData}
          margin={{ top: 20, right: 30, left: 20, bottom: 20 }}
          barCategoryGap="20%"
        >
          <CartesianGrid strokeDasharray="3 3" stroke="#e0e7ff" />
          <XAxis 
            dataKey="month" 
            tick={{ fontSize: 12, fill: '#374151' }}
            stroke="#6b7280"
          />
          <YAxis 
            tick={{ fontSize: 12, fill: '#374151' }}
            stroke="#6b7280"
            label={{ value: 'Temperature (째C)', angle: -90, position: 'insideLeft', style: { textAnchor: 'middle', fill: '#374151' } }}
          />
          <Tooltip content={<CustomTooltip />} />
          <Legend 
            wrapperStyle={{ paddingTop: '20px' }}
            iconType="rect"
          />
          <Bar 
            dataKey="high" 
            name="High Temperature" 
            fill="#ef4444" 
            radius={[4, 4, 0, 0]}
            stroke="#dc2626"
            strokeWidth={1}
          />
          <Bar 
            dataKey="low" 
            name="Low Temperature" 
            fill="#3b82f6" 
            radius={[4, 4, 0, 0]}
            stroke="#2563eb"
            strokeWidth={1}
          />
        </BarChart>
      </ResponsiveContainer>
      
      <div className="text-center mt-4">
        <p className="text-xs text-gray-500">
          Data shows the mild Mediterranean climate of Tangier throughout the year
        </p>
      </div>
    </div>
  );
}
